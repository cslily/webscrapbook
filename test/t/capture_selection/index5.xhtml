<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="UTF-8"/>
<style>img { width: 60px; }</style>
</head>
<body>
<p id="previous">previous content</p>
<img src="red.bmp"/>

<div id="selection">
<p id="selected">selected <![CDATA[x < y > z]]> content</p>
</div>

<p id="next">next content</p>
<img src="blue.bmp"/>

<script>
var sel = window.getSelection();
var range = document.createRange();
range.setStart(document.getElementById("selected").childNodes[1], 2);
range.setEnd(document.getElementById("selected").childNodes[1], 7);
sel.addRange(range);
</script>
</body>
</html>
